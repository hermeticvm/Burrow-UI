# Cline Workflow Instructions

For every change made to this project:

1. **Version Bump**: Always increment the patch version (x.x.Y) in `app/build.gradle`
2. **Branch Creation**: Create a new branch with descriptive name: `feature/description` or `fix/description`
3. **Commit**: Commit changes to the new branch with clear commit message
4. **Build**: Generate debug APK using `./gradlew assembleDebug`
5. **Rename APK**: Copy debug APK to `burrowed-launcher-debug-$version.apk`
6. **Tag & Release**: Create git tag and GitHub release with APK
7. **Pull Request**: Create pull request on GitHub with descriptive title and description

## Git Commands:
```bash
# 1. Create new branch
git checkout -b feature/description

# 2. Update version in app/build.gradle (patch bump)
# Edit versionName and versionCode

# 3. Commit changes
git add .
git commit -m "feat/fix: description of changes"

# 4. Build debug APK
./gradlew assembleDebug

# 5. Build will automatically name the APK as burrowed-launcher-debug-X.Y.Z.apk
# The APK will be located at: app/build/outputs/apk/debug/burrowed-launcher-debug-X.Y.Z.apk

# 6. Create tag and push
git tag vX.Y.Z
git push origin vX.Y.Z

# 7. Create GitHub release
gh release create vX.Y.Z app/build/outputs/apk/debug/burrowed-launcher-debug-X.Y.Z.apk --title "vX.Y.Z - Description" --notes "Changes description" --prerelease

# 8. Create PR
git push origin feature/description
gh pr create --title "feat/fix: description" --body "Detailed description" --base main --head feature/description
```

## Version Location:
File: `app/build.gradle`
Look for: `versionName "X.Y.Z"` - increment Z for patch releases

## APK Naming Convention:
Always name debug APKs as: `burrowed-launcher-debug-$version.apk`

## Important Guidelines:
- **Single Branch per Feature**: Only create one branch and pull request for related changes
- **Combine Related Fixes**: Group similar improvements together rather than creating separate branches
- **Clear Commit Messages**: Use conventional commits format
- **Comprehensive Testing**: Test on real devices before creating PR

## Development Setup:
- **Minimum SDK**: API 24 (Android 7.0)
- **Target SDK**: API 34 (Android 14)
- **Build Tools**: Android Studio with Kotlin support
- **Dependencies**: Check build.gradle for latest versions

## Testing Checklist:
- [ ] App launches without crashes
- [ ] Icon size changes work correctly
- [ ] App selection/sorting functionality works
- [ ] Settings persist across restarts
- [ ] E-ink display readability
- [ ] No crashes or ANRs
- [ ] All settings options work as expected
